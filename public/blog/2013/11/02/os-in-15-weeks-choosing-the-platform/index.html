
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>OS in 15 weeks: choosing the platform - Ged's Blog</title>
  <meta name="author" content="Gediminas Rapolavicius">

  
  <meta name="description" content="My goal: write an (kind of) operating system in 15 weeks. I&rsquo;ve been dreaming about it for a while. I tried copy&amp;paste various snippets ( &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.gedrap.me/blog/2013/11/02/os-in-15-weeks-choosing-the-platform">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Ged's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  


  <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-42754612-2', 'gedrap.me');
ga('send', 'pageview');

</script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Ged's Blog</a></h1>
  
    <h2>Thoughts of a coder.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.gedrap.me" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
<li><a href="http://gedrap.me/">Home</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">OS in 15 Weeks: Choosing the Platform</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-02T15:47:00+00:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>My goal: write an (kind of) operating system in 15 weeks.</p>

<p>I&rsquo;ve been dreaming about it for a while. I tried copy&amp;paste various snippets (without having an idea what they do) when I was about 15. Gave up a week later :)</p>

<p>Now, as I am doing my final year at university, and know a tiny little bit more about how computers work, it&rsquo;s time to do it again, this time as a third year project (which counts as 25% of the degree).</p>

<p>The first challenge I encountered was choosing the platform to build it for. PC? Raspberry Pi? Some ARM board? I am going to describe the thought process I went through in this post.</p>

<!-- more -->


<h2>PC</h2>

<p>This naturally came as first consideration. While there are <a href="http://www.amazon.co.uk/Modern-Operating-Systems-Andrew-Tanenbaum/dp/1292025778">plenty</a>
<a href="http://wiki.osdev.org/Main_Page">of</a> information on the Web and examples to look at (whether it&rsquo;s <a href="http://www.menuetos.net/">MenuetOS</a> or early <a href="https://www.kernel.org/pub/linux/kernel/Historic/old-versions/">Linux kernels</a>), I quickly rejected it. First of all, it would require studying x86 architecture in some depth, which would take considerable time. Given the time frame of 15 weeks (300-400 hours), it&rsquo;s not great. Secondly, I was really eager to get more experience with microcontrollers. Writing a simple calculator in ARM assembly half a year ago made me eager to do more of the same. Oh those evening in the lab, stepping instruction by instruction&hellip;</p>

<h2>Raspberry PI</h2>

<p>It&rsquo;s hard to skip that, when it has so much hype around it. A familiar ARM architecture and a large community. But I was warned early by my supervisor, that Raspberry is not totally open (which sucks, if you are hacking) and there were failed attempts in the past because of it. I left it as a &lsquo;Plan B&rsquo;. But didn&rsquo;t come back :)</p>

<h2>ARM board with Xilinx FPGA</h2>

<p>I&rsquo;ve written a before mentioned calculator (after attaching 3*4 keyboard) for <a href="http://brej.org/armboard/">this board</a>. Pros: my supervisor contributed building it (loads of help available!). Cons: dubious suport of GCC toolchain (writing everything in assembly might not be the most productive thing). Is familiar architecture pro or con? That&rsquo;s discussable. ARM is everywhere. But knowing more than architecture is benefitial when it comes to comparing. So what other architectures are available? And here we come to&hellip;</p>

<h2>AVR (Arduino)</h2>

<p>Modified Harvard architecture. Something new to me, but not too complex to understand it quickly. Huge community support, both for AVR itself and Arduino. Why Arduino rather than simple AVR board? First of all, Arduino gives some optional abstraction. It&rsquo;s up to you to use or not. For instance, TFT LCD library with functions such as writing text might save a lot of time. At first, I was afraid that it might be hard to find help when it comes to more advanced topics bot oh I was wrong. Arduino has amazin community. The only con? Default IDE quickly becomes too simple and limiting. Then Atmel Studio comes to help! Therefore, it became my choice!</p>

<h2>Project Aim</h2>

<p>Surprisingly, it took me a while to decide what do I want to build. After some thought I came up with:</p>

<ul>
<li>Multitasking. Simple context switching.</li>
<li>I/O events. For instance, call application&rsquo;s callback, when interrupt occurs. But wait, we have to serve interrupts fast! We need a queue! Starts to get interesting :)</li>
<li>Simple UI manager. Let applications output some text. But it will be a mess if we allow multiple threads to write at once&hellip; We need a resource manager and locks! Now it&rsquo;s getting fun!</li>
<li>An application (or two!) to demonstrate the features.</li>
</ul>


<p>I am excited!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Gediminas Rapolavicius</span></span>

      








  


<time datetime="2013-11-02T15:47:00+00:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/os/'>OS</a>, <a class='category' href='/blog/categories/projects/'>Projects</a>, <a class='category' href='/blog/categories/university/'>University</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://blog.gedrap.me/blog/2013/11/02/os-in-15-weeks-choosing-the-platform/" data-via="gedrap" data-counturl="http://blog.gedrap.me/blog/2013/11/02/os-in-15-weeks-choosing-the-platform/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/08/21/a-guide-on-how-to-not-get-an-internship/" title="Previous Post: A Guide on How to NOT Get an Internship">&laquo; A Guide on How to NOT Get an Internship</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/02/09/its-all-about-the-short-breaks/" title="Next Post: It's all about the short breaks">It's all about the short breaks &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/02/10/giving-more-accurate-estimates-on-web-apps/">Giving More Accurate Estimates on Web Apps</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/09/its-all-about-the-short-breaks/">It's All About the Short Breaks</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/02/os-in-15-weeks-choosing-the-platform/">OS in 15 Weeks: Choosing the Platform</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/21/a-guide-on-how-to-not-get-an-internship/">A Guide on How to NOT Get an Internship</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/01/code-instead-of-breakfast-my-productivity-hack/">Code Instead of Breakfast: My Productivity Hack</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/GedRap">@GedRap</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'GedRap',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
	<h1>Twitter</h1>
	<a class="twitter-timeline" href="https://twitter.com/GedRap" data-widget-id="396702805454364672">Tweets by @GedRap</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>


</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Gediminas Rapolavicius -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
